<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>MOST Website</title>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/ui/1.13.0-rc.2/jquery-ui.min.js" integrity="sha256-RQLbEU539dpygNMsBGZlplus6CkitaLy0btTCHcULpI=" crossorigin="anonymous"></script>
        <!--css-->
        <link rel="stylesheet" href="/static/css/main.css"> 
        <link rel="shortcut icon" href="#" />
        <!---bootstrap-->       
        <script src="/static/js/bootstrap_js/bootstrap.bundle.js"></script>
        <script src="/static/js/bootstrap_js/bootstrap.min.js"></script>
        <script src="/static/js/bootstrap_js/bootstrap.js"></script>
        <link rel="stylesheet" href="/static/css/bootstrap_css/bootstrap.css"> 
        <link rel="stylesheet" href="/static/css/bootstrap_css/bootstrap-grid.css"> 
        <link rel="stylesheet" href="/static/css/bootstrap_css/bootstrap-reboot.css"> 
        <link rel="stylesheet" href="/static/css/bootstrap_css/bootstrap.min.css"> 
        <link rel="stylesheet" href="/static/css/bootstrap_css/bootstrap.rtl.min.css"> 
        <!---script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.1/dist/umd/popper.min.js" integrity="sha384-W8fXfP3gkOKtndU4JGtKDvXbO53Wy8SZCQHczT5FMiiqmQfUpWbYdTil/SxwZgAN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.min.js" integrity="sha384-skAcpIdS7UcVUC05LJ9Dxay8AXcDYfBJqt1CJ85S/CFujBsIzCIv+l9liuYLaMQ/" crossorigin="anonymous"></script--->            
        
        <!--Fontawesome-->
        <link href="/static/css/fontawesome/css/all.css" rel="stylesheet">         
        
        <!--Openlayers-->
        <!---link rel="stylesheet" href="/static/js/openlayer/ol.css"> 
        <script src="/static/js/openlayer/ol.js"></script--->
        <link rel="stylesheet" href="https://openlayers.org/en/latest/css/ol.css" />
        <script type="text/javascript" src="https://openlayers.org/en/latest/build/ol.js"></script>
        <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=requestAnimationFrame,Element.prototype.classList,URL,Object.assign"></script>

        <!-- ol-ext -->
        <link rel="stylesheet" href="https://cdn.rawgit.com/Viglino/ol-ext/master/dist/ol-ext.min.css" />
        <script type="text/javascript" src="https://cdn.rawgit.com/Viglino/ol-ext/master/dist/ol-ext.min.js"></script>
        <!---link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.9.0/css/ol.css" type="text/css">
        <script src="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.9.0/build/ol.js"></script--->        
        
        <!----jquery----->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        
        <!--Vue JS-->
        <!--script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/vue@2"></script-->
        <script src="https://unpkg.com/vuex@2.0.0"></script>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script src="https://unpkg.com/geojson-vt@3.2.0/geojson-vt.js"></script>
        
        <!---ChartJS-->
        <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>

        <!--MathJX-->
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>                  
        
        <!--Intro JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/intro.js/5.1.0/intro.min.js" integrity="sha512-B0B1bdTGi9XHtoCINbtR6z9Vi8IYvvtImIE8KWMtqWAVUt2Wn2k69GxM7ya/3rQcz/Pgm/o1WcDU347/5k202A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intro.js/5.1.0/introjs-rtl.min.css" integrity="sha512-VwsKKwi99ZnRScgAkJ+ISGNolfoq+ic/mzJfhZWQ1xwfcbLZzLnHDoERYEppL25Okf+wEI/nDhHogudTa/YkWA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intro.js/5.1.0/introjs.min.css" integrity="sha512-iaYE9B9u4GU8+KkRTOdRdZuzKdYw1X0hOAa4GwDV/uwdXgoX/ffT3ph1+HG1m4LPZD/HV+dkuHvWFLZtPviylQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <!--link rel="stylesheet" href="shepherd.js/dist/css/shepherd.css"/>
        <script src="shepherd.js/dist/js/shepherd.min.js"></script--->

            
    </head>
    <body>
        <!--Guide-->
        <div id="guide-layer">
            <div id="blank" class="blank"></div>
            <div id="guide" >
                <div class="panel">
                    <button id="guide1" class="guide-button"> </button>
                    <button id="guide2" class="guide-button"> </button>
                    <button id="guide3" class="guide-button"> </button>
                    <button id="guide4" class="guide-button"> </button>
                    <button id="guide5" class="guide-button"> </button>
                    <button id="guide6" class="guide-button"> </button>
                    <button id="guide7" class="guide-button"> </button>
                </div>
                <div id="guide8" style="left: 2px; width:50px; height:100px;"></div>
                <div id="guide9" style="position: absolute; left: 2px;  bottom: 60px; width: 300px; height:50px;"></div>
                <div id="guide10" style="position: absolute;  left: 2px; bottom: 5px; width: 300px; height:50px;"></div>
            </div>
        </div>
        <div id= "app" style="font-family: Georgia, 'Times New Roman', Times, serif;">
            <!---Navbar-->
            <div id="navbar" class="navbar d-flex align-items-center justify-content-left">
                <div class='navbar-content'>
                    <h1 style="font-weight: bold;">
                        永續發展目標SDG11地理資訊網
                    </h1>
                </div>
                <div style="position:absolute; right: 20px;">
                    <a class="btn btn-sm btn-light" href="{% url 'home_tw' %}">回到首頁</a>
                </div>
            </div>
            <!--Map Coordinate-->
            <div class="map-coordinate-container">
                經緯度: <span id="mouse-position"></span>
            </div>       
            <!--Loading-->
            <div id="loading">
                <div class="loadingContent">
                </div>
            </div>   
            <!---SideBar-->    
            <div class="panel">  
                <div class="d-print-none">
                    <button  v-on:click="showBaseMapSwitcher" class="function-button" data-toggle="tooltip" data-placement="left" title="底圖切換">
                        <i class="fas fa-map"></i>
                    </button>
                    <button  v-on:click="showBookmarks" class="function-button" data-toggle="tooltip" data-placement="left" title="空間書籤">
                        <i class="fas fa-bookmark"></i>
                    </button>
                    <button  v-on:click="changeCurrentComponentName('layerComponent')" class="function-button"data-toggle="tooltip" data-placement="left" title="圖層套疊">
                        <i class="fas fa-layer-group"></i>
                    </button>
                    <button  v-on:click="changeCurrentComponentName('timeComponent')" class="function-button" data-toggle="tooltip" data-placement="left" title="時空變化">
                        <i class="far fa-calendar-alt"></i>
                    </button>
                    <button v-on:click="showStatistics" class="function-button" data-toggle="tooltip" data-placement="left" title="資訊查詢">
                        <i class="fa fa-info-circle"></i> 
                    </button>
                    <button v-on:click="ClearAllLayer" class="function-button"  data-toggle="tooltip" data-placement="left" title="清除所有圖層">
                        <i class="fas fa-eraser"></i>
                    </button>
                    <button v-on:click="PrintMap" class="function-button" data-toggle="tooltip" data-placement="left" title="列印當前地圖">
                        <i class="fas fa-print"></i>
                    </button>
                </div> 
                <!--BaseMap Switcher Window-->  
                <div class="panel-info-container d-print-none" v-show="toShowBaseMapSwitcher">
                    <div class="info-container-header">
                        <div v-on:click="closeBasemapSwitcher"><i style="color: azure;" class="far fa-times-circle" aria-hidden="true"></i></div>
                    </div>              
                    <div id= "BaseMapSwitcher" style="font-family: Georgia;" class="form-check">
                        <h1 style="font-size: 18px;">底圖切換</h1>
                        <div class = "baseMap" style="font-size: 13px;">
                            <input type="radio" name="baselayerButton" value="OSM" checked>
                            <label for="OpenStreet">OpenStreet 電子地圖</label>
                            <br>
                            <input type="radio" name="baselayerButton" value="CartoLight">
                            <label for="CartoLight">Carto底圖(淺色)</label>
                            <br>
                            <input type="radio" name="baselayerButton" value="CartoDark">
                            <label for="CartoDark">Carto底圖(深色)</label>
                            <br>
                            <input type="radio" name="baselayerButton" value="Stamen">
                            <label for="Stamen">Stamen 地形圖</label>
                        </div>
                    </div>      
                </div>  
                <!--Bookmarks Configuration Window-->
                <div class="panel-info-container d-print-none" v-show="toShowBookmarks">
                    <div class="info-container-header">
                        <div v-on:click="closeBookmarks"><i style="color: azure;" class="far fa-times-circle" aria-hidden="true"></i></div>
                    </div>              
                    <div id="style-3" style="height:100px;overflow:auto; padding:5px;">
                        <div class="form-check">
                            <h1 style="font-size: 16px;">空間書籤</h1>
                            <div id = "bookmarks">
                                <div style="display:inline-flex">
                                    <input type="text" style="width: 60px;" v-model='inputBookMark'>
                                    <button class="btn btn-light btn-sm" v-on:click="addBookMarks"><i class="fas fa-plus-square"></i> 新增 </button>
                                    &nbsp;&nbsp;
                                    <div v-if="bookmarks.length !=0">
                                        <button class="btn btn-light btn-sm" v-on:click="clearBookMarks"><i class="fas fa-eraser"></i> 清除所有</button>
                                    </div>
                                </div>
                                <div id="bookmark-list" style="padding-top: 10px;"> 
                                  <p v-for="(item,index) in bookmarkName">
                                    {% verbatim %}
                                        {{index+1}}.{{item}}  
                                    {% endverbatim %}                     
                                    <button class="btn btn-light btn-sm" v-on:click="zoomToBookMarks(index)"><i class="fas fa-search-plus"></i></button>
                                    <button class="btn btn-light btn-sm" v-on:click="removeBookMarks(index)"><i class="fas fa-backspace"></i></button>
                                  </p>
                                </div>
                            </div>
                        </div>
                    </div>      
                </div> 
                <!--Statistics Information Window-->  
                <div id="statisticsContainer" class="panel-info-container d-print-none" style="font-family: Georgia, 'Times New Roman', Times, serif;" v-show="toShowStatistics">
                    <div class="info-container-header">
                        <div v-on:click="closeStatistics"><i style="color: azure;" class="far fa-times-circle" aria-hidden="true"></i></div>
                    </div>    
                    <div id="statistics-config" class="form-check">
                        <h1 style="font-size: 16px"> 變遷資訊 </h1>
                        <div style="font-size: 14px;"> 
                            <span>請指定查詢空間單元</span><br>
                            <input type="radio" v-model="spatialUnits" id="town" value="Administrative Districts" checked/><label for="town">行政區</label><br>
                            <input type="radio" v-model="spatialUnits" id="village" value="Villages" /><label for="village">村里</label>
                            <hr style="border: 1px solid rgb(160, 160, 160);">
                            <div>
                                點選以下連結查看歷年高雄市整體變遷:<br>
                                <span style="cursor: pointer;color:rgb(8, 99, 99);" v-on:click="showpopChart"><i class="fas fa-check-circle"></i>   人口成長 </span> <br>
                                <span style="cursor: pointer;color:rgb(8, 99, 99);" v-on:click="showlulcChart"><i class="fas fa-check-circle"></i>  土地覆蓋變遷 </span>
                            </div>
                        </div>
                    </div>
                    <div id="pop-all-chart-container" style="border-style: solid;border-width: 1px; border-radius:5px; border-color:azure;position:fixed; padding:5px; right:20px; bottom:310px;width:350px;" v-show="toShowpopCharts">
                        <div style="color: azure;"><i style="float: right;cursor: pointer" class="far fa-times-circle" aria-hidden="true" v-on:click="closepopChart"></i></div>
                        <div><canvas id="pop-all-chart" style="height:150px"></canvas></div>
                    </div>
                    <div id="lulc-chart-container" style="border-style: solid;border-width: 1px; border-radius:5px; border-color:azure;position:fixed; padding:5px; right:20px; bottom:40px;width:350px;" v-show="toShowlulcCharts">
                        <div style="color: azure;"><i style="float: right;cursor: pointer" class="far fa-times-circle" aria-hidden="true" v-on:click="closelulcChart"></i></div>
                        <div><canvas id="lulc-chart" style="height:200px"></canvas></div>
                    </div>
                    <div id="statistics-info" class="statistics-info-container" v-if="toShowSelectInfo">
                        <div class="statistics-info-container-header">
                            <div v-on:click="closeSelectInfo"><i style="color: azure;" class="far fa-times-circle" aria-hidden="true"></i></div>
                        </div>
                        <div style="padding: 10px;">
                            <div id="feature-info">
                                <h5 style="font-size: 16px; font-weight: bold;">圖徵資訊</h5>
                                <div id="statistics-info-content" style="font-size: 14px;"></div>
                            </div>         
                            <div id="district-info">
                                <ul style="font-size: 13px;" class="nav nav-tabs" id="myTab" role="tablist">
                                    <li class="nav-item" role="presentation">
                                      <button style="padding: 7px;" class="nav-link active" id="pop-tab" data-bs-toggle="tab" data-bs-target="#popInfo" type="button" role="tab" aria-controls="popInfo" aria-selected="true">人口歷年成長</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button style="padding: 7px;" class="nav-link" id="sdg-tab" data-bs-toggle="tab" data-bs-target="#sdgInfo" type="button" role="tab" aria-controls="sdgInfo" aria-selected="true">永續發展評估指標</button>
                                    </li>
                                    <li class="nav-item" role=""presentation>
                                        <button style="padding: 7px;" class="nav-link" id="sprawl-tab" data-bs-toggle="tab" data-bs-target="#sprawlInfo" type="button" role="tab" aria-controls="sprawlInfo" aria-selected="false">土地覆蓋變遷</button>         
                                    </li>
                                </ul>
                                <div class="tab-content" id="myTabContent">
                                    <div class="tab-pane fade show active" id="popInfo" role="tabpanel" aria-labelledby="pop-tab">
                                        <div v-if ="toShowPOPalert">
                                            <span style="font-size: 13px">歷年人口統計資料僅限於行政區,請指定行政區為查詢空間單元重新查詢。</span>
                                        </div>
                                        <div v-if ="toShowPOPContent">
                                            <span style="font-size: 13px">點選地圖上圖徵查詢人口資料。</span> 
                                            <div style="width: auto; height: auto;" id="pop-chart-container"></div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="sdgInfo" role="tabpanel" aria-labelledby="sdg-tab">
                                        <div v-if ="toShowSDGalert">
                                            <span style="font-size: 13px">由於指標估算時需要歷年人口資訊，故目前SDG指標僅限於行政區,請指定行政區為查詢空間單元重新查詢。</span>
                                        </div>
                                        <div v-if ="toShowSDGContent">
                                            <span style="font-size: 13px">點選地圖上圖徵查詢土地利用效率及每單位建築開發面積居住人口。</span> 
                                            <div style="width: auto; height: auto;" id="aapdea-chart-container"></div>
                                            <div style="width: auto; height: auto;" id="lue-chart-container"></div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="sprawlInfo" role="tabpanel" aria-labelledby="sprawl-tab">
                                        <span style="font-size: 13px">點選地圖上圖徵查詢歷年土地覆蓋類別紋理變化。</span> 
                                        <div style="width: auto; height: auto;" id="entropy-chart-container"></div>
                                    </div>
                                </div>
                            </div>   
                        </div>
                    </div>
                </div>  
                <!--SideBar Function Window-->     
                <div class="panel-info-container d-print-none" v-if="toShowPanelInfoContainer">
                    <div class="info-container-header">
                        <div v-on:click="closeFunctionPanel"><i style="color: azure;" class="far fa-times-circle" aria-hidden="true"></i></div>
                    </div>
                    <component v-bind:is="currentComponentName"></component>
                </div>

            </div>
            <!--Popup-->
            <div id="popup" class="ol-popup">
                <a href="#" id="popup-closer" class="ol-popup-closer"></a>              
                <div id="popup-content" style="font-size: 13px;"></div>
                <ul style="font-size: 12px;" class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item" role="presentation">
                      <button class="nav-link active" id="pop-tab" data-bs-toggle="tab" data-bs-target="#popInfo" type="button" role="tab" aria-controls="popInfo" aria-selected="true">Population</button>
                    </li>
                    <li class="nav-item" role=""presentation>
                        <button class="nav-link" id="sprawl-tab" data-bs-toggle="tab" data-bs-target="#sprawlInfo" type="button" role="tab" aria-controls="sprawlInfo" aria-selected="false">Expansion</button>         
                    </li>
                </ul>
                <div class="tab-pane fade show active" id="popInfo" role="tabpanel" aria-labelledby="pop-tab"></div>
                <div class="tab-pane fade show active" id="sprawlInfo" role="tabpanel" aria-labelledby="sprawl-tab"></div>
            </div>

            <!---Map-->
            <div id="map" class="map"></div>    

        </div>
        <script src="https://unpkg.com/vue/dist/vue.js"></script>
        <script src="https://unpkg.com/vue-i18n@8"></script>

    </body>
    <!-----js------>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.js"></script>                                                                                                                                                                                                                                                                                         
    <script src="https://requirejs.org/docs/release/2.3.6/minified/require.js"></script>
    <script src="/static/js/main_tw.js"></script>
    
</html>